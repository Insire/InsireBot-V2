version: 1.0.{build}
configuration: Release
platform: Any CPU
image:
  - Visual Studio 2017

#---------------------------------#
#        Branches to build        #
#---------------------------------#
branches:
  only:
    - master
    - Dev

#---------------------------------#
#  Build Cache                    #
#---------------------------------#
cache:
  - .\packages -> .\**\packages.config

#---------------------------------#
#  Build Script                   #
#---------------------------------#
build_script:
  - ps: powershell -ExecutionPolicy ByPass -File ".\Cake\build.ps1" -Script ".\Cake\build.cake"

#---------------------------------#
#  Build Artifacts                #
#---------------------------------#
artifacts:
  - path: './src/Maple/bin/$(configuration)'
    name: '.Binaries'
  - path: './Cake/Archive/'
    name: 'Installer'
  - path: '.Cake/Releases/'
    name: 'AutoUpdates'
